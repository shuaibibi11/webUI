# ğŸŒ åˆ›æ–°å‡¡æ˜Ÿç³»ç»Ÿ - ç«¯å£å’Œè®¿é—®åœ°å€

## ğŸ“ æœåŠ¡è®¿é—®åœ°å€

### 1. å‰ç«¯åº”ç”¨ï¼ˆç”¨æˆ·ç•Œé¢ï¼‰
- **è®¿é—®åœ°å€**: http://localhost:11000
- **ç«¯å£æ˜ å°„**: 11000 â†’ 80 (å®¹å™¨å†…)
- **æœåŠ¡**: Nginx + Reactåº”ç”¨
- **åŠŸèƒ½**:
  - ç™»å½•é¡µé¢: http://localhost:11000/
  - æ³¨å†Œé¡µé¢: http://localhost:11000/register
  - èŠå¤©ç•Œé¢: http://localhost:11000/chat
  - åé¦ˆé¡µé¢: http://localhost:11000/feedback
  - ç®¡ç†åå°: http://localhost:11000/admin

### 2. åç«¯APIæœåŠ¡
- **è®¿é—®åœ°å€**: http://localhost:11013
- **ç«¯å£æ˜ å°„**: 11013 â†’ 3013 (å®¹å™¨å†…)
- **æœåŠ¡**: Node.js + Express
- **APIåŸºç¡€è·¯å¾„**: http://localhost:11013/api

#### APIç«¯ç‚¹åˆ—è¡¨ï¼š

**ç”¨æˆ·ç›¸å…³**
- `POST /api/users/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/users/login` - ç”¨æˆ·ç™»å½•
- `GET /api/users/info` - è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è®¤è¯ï¼‰

**å¯¹è¯ç›¸å…³**
- `GET /api/conversations` - è·å–å¯¹è¯åˆ—è¡¨ï¼ˆéœ€è®¤è¯ï¼‰
- `POST /api/conversations` - åˆ›å»ºå¯¹è¯ï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/conversations/:id` - è·å–å¯¹è¯è¯¦æƒ…ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/conversations/:id` - æ›´æ–°å¯¹è¯ï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/conversations/:id` - åˆ é™¤å¯¹è¯ï¼ˆéœ€è®¤è¯ï¼‰

**æ¶ˆæ¯ç›¸å…³**
- `POST /api/messages` - å‘é€æ¶ˆæ¯ï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/messages/:conversationId` - è·å–æ¶ˆæ¯åˆ—è¡¨ï¼ˆéœ€è®¤è¯ï¼‰

**åé¦ˆç›¸å…³**
- `POST /api/feedbacks` - æäº¤åé¦ˆï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/feedbacks` - è·å–åé¦ˆåˆ—è¡¨ï¼ˆéœ€è®¤è¯ï¼‰

**ç®¡ç†ç›¸å…³**
- `GET /api/admin/stats` - è·å–ç”¨æˆ·ç»Ÿè®¡ï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/admin/users` - è·å–æ‰€æœ‰ç”¨æˆ·ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/admin/users/:id/verify` - å®¡æ‰¹ç”¨æˆ·ï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/admin/users/:id` - åˆ é™¤ç”¨æˆ·ï¼ˆéœ€è®¤è¯ï¼‰

**å¥åº·æ£€æŸ¥**
- `GET /api/health` - æœåŠ¡å¥åº·æ£€æŸ¥

### 3. æ•°æ®åº“æœåŠ¡
- **è®¿é—®åœ°å€**: localhost:11002
- **ç«¯å£æ˜ å°„**: 11002 â†’ 5432 (å®¹å™¨å†…)
- **æœåŠ¡**: PostgreSQL 15
- **è¿æ¥ä¿¡æ¯**:
  - ä¸»æœº: localhost
  - ç«¯å£: 11002
  - ç”¨æˆ·å: postgres
  - å¯†ç : postgres
  - æ•°æ®åº“å: chatbot

#### è¿æ¥ç¤ºä¾‹ï¼š

**ä½¿ç”¨psqlå‘½ä»¤è¡Œ**
```bash
docker-compose exec db psql -U postgres -d chatbot
```

**ä½¿ç”¨è¿æ¥å­—ç¬¦ä¸²**
```
postgresql://postgres:postgres@localhost:11002/chatbot
```

## ğŸ“Š å®Œæ•´ç«¯å£æ˜ å°„è¡¨

| æœåŠ¡åç§° | å®¿ä¸»æœºç«¯å£ | å®¹å™¨å†…ç«¯å£ | åè®® | è¯´æ˜ |
|---------|-----------|-----------|------|------|
| frontend | 11000 | 80 | HTTP | å‰ç«¯WebæœåŠ¡ |
| backend | 11013 | 3013 | HTTP | åç«¯APIæœåŠ¡ |
| db | 11002 | 5432 | PostgreSQL | æ•°æ®åº“æœåŠ¡ |

## ğŸš€ å¯åŠ¨å‘½ä»¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
./start.sh
```

### æ–¹å¼äºŒï¼šä½¿ç”¨Docker Compose
```bash
docker-compose up -d --build
```

### æ–¹å¼ä¸‰ï¼šæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
```bash
./show-info.sh
```

## ğŸ” éªŒè¯æœåŠ¡

### æ£€æŸ¥å‰ç«¯
```bash
curl http://localhost:11000
```

### æ£€æŸ¥åç«¯
```bash
curl http://localhost:11013/api/health
```

### æ£€æŸ¥æ•°æ®åº“
```bash
docker-compose exec db pg_isready -U postgres
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡å¯åŠ¨**: æ•°æ®åº“éœ€è¦åˆå§‹åŒ–ï¼Œå¯èƒ½éœ€è¦ç­‰å¾…30-60ç§’
2. **ç«¯å£å ç”¨**: ç¡®ä¿11000ã€11001ã€11002ç«¯å£æœªè¢«å ç”¨
3. **é˜²ç«å¢™**: å¦‚æœæ— æ³•è®¿é—®ï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®
4. **ç”Ÿäº§ç¯å¢ƒ**: è¯·ä¿®æ”¹é»˜è®¤å¯†ç å’ŒJWTå¯†é’¥

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
docker-compose ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f

# ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f frontend
docker-compose logs -f backend
docker-compose logs -f db
```

### åœæ­¢æœåŠ¡
```bash
docker-compose down
```

### é‡å¯æœåŠ¡
```bash
docker-compose restart
```

---

**æœ€åæ›´æ–°**: 2024å¹´
**ç»´æŠ¤è€…**: åˆ›æ–°å‡¡æ˜Ÿå¼€å‘å›¢é˜Ÿ
