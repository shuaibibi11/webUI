## 系统修复与优化计划

### 1. 端口变更与配置更新
**目标**：将user-web端口从13080更改为13088，确保所有相关配置同步更新

**实现步骤**：
- 修改`/data/webUI-java/user-web/vite.config.ts`中的端口配置
- 检查并更新所有相关配置文件中对旧端口的引用
- 重启user-web服务，验证新端口是否正常访问

### 2. 管理端功能优化

#### 2.1 模型配置与Bisheng配置增强
**目标**：实现配置修改功能与启用状态管理

**实现步骤**：
- 检查`AdminController.java`中的模型与工作流配置相关方法
- 实现模型与工作流的更新端点，添加启用状态字段
- 优化前端管理界面，添加启用状态开关

#### 2.2 日志管理系统增强
**目标**：实现全用户登录行为记录

**实现步骤**：
- 检查当前日志记录机制
- 实现基于AOP或拦截器的登录日志记录
- 确保管理员账号操作日志完整记录

#### 2.3 反馈处理模块修复
**目标**：修复反馈提交问题，添加状态管理

**实现步骤**：
- 检查`FeedbackController.java`与`Feedback`实体
- 修复反馈提交后数据库存储问题
- 添加反馈状态字段与管理功能

### 3. 对话功能优化

#### 3.1 多模型/多接口选择功能
**目标**：实现用户可选择对话模型/接口

**实现步骤**：
- 检查`ChatController.java`中的模型调用逻辑
- 实现前端模型选择界面
- 优化后端接口，支持指定模型调用

#### 3.2 大模型多轮对话测试
**目标**：测试大模型多轮对话功能

**测试序列**：
- 询问"你好"
- 询问"你是什么模型"
- 询问"介绍一下广州"

### 4. 管理端用户管理增强

#### 4.1 账号编辑权限
**目标**：实现管理员对所有账号的编辑权限

**实现步骤**：
- 检查`AdminController.java`中的用户管理方法
- 实现账号信息、密码与权限的修改功能

#### 4.2 账号审批流程
**目标**：实现前台账号注册审核机制

**实现步骤**：
- 检查用户注册流程
- 实现账号审批状态字段
- 优化前端注册与后台审批界面

### 5. 测试与验证
**目标**：确保所有修改功能正常工作

**测试内容**：
- 端口变更后系统访问测试
- 模型与工作流配置修改测试
- 日志记录功能测试
- 反馈提交与状态管理测试
- 多模型选择功能测试
- 大模型多轮对话测试
- 用户管理功能测试

### 预期成果
1. user-web服务成功运行在13088端口
2. 管理端具备完整的模型/工作流配置管理功能
3. 实现全用户登录行为记录
4. 反馈系统正常工作，支持状态管理
5. 用户可自行选择对话模型/接口
6. 大模型支持多轮对话
7. 管理员具备完整的用户管理权限
8. 实现账号审批流程

### 风险评估
- 端口变更可能影响现有外部链接
- 模型/工作流配置修改需确保数据一致性
- 日志记录需考虑性能影响
- 反馈系统修复需确保数据不丢失

### 依赖关系
- 端口变更需优先完成
- 管理端功能依赖后端API修改
- 对话功能优化依赖前端与后端协同修改

### 实施顺序
1. 端口变更与配置更新
2. 管理端功能优化（模型、工作流、日志、反馈）
3. 对话功能优化
4. 管理端用户管理增强
5. 全面测试与验证